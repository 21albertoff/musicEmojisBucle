<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor de M√∫sica</title>
    <link rel="icon" href="favicon.ico">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container-fluid text-center vh-100 d-flex flex-column justify-content-center align-items-center">
        <!-- Reproductor -->
        <div id="player" class="d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
                <img id="song-image" src="placeholder.jpg" alt="Canci√≥n" class="song-image me-3">
                <div>
                    <h5 id="song-title">T√≠tulo de la Canci√≥n</h5>
                </div>
            </div>
            <div class="controls">
                <button id="prev" class="btn btn-outline-light">‚èÆÔ∏è</button>
                <button id="play-pause" class="btn btn-light">‚ñ∂Ô∏è</button>
                <button id="next" class="btn btn-outline-light">‚è≠Ô∏è</button>
            </div>
        </div>
        

        <!-- Elementos flotantes -->
        <div id="floating-elements"></div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>// Lista de canciones
        const songs = [
            {
                imagen: "covers/cover1.jpeg",
                tituloCancion: "Canci√≥n 1",
                audioCancion: "songs/audio1.mp3"
            },
            {
                imagen: "covers/cover2.jpeg",
                tituloCancion: "Canci√≥n 2",
                audioCancion: "songs/audio2.mp3"
            },
            {
                imagen: "covers/cover3.jpg",
                tituloCancion: "Canci√≥n 3",
                audioCancion: "songs/audio3.mp3"
            }
        ];
        
        let currentSongIndex = 0;
        let isPlaying = false;
        const audio = new Audio();
        
        // Elementos DOM
        const songImage = document.getElementById("song-image");
        const songTitle = document.getElementById("song-title");
        const playPauseButton = document.getElementById("play-pause");
        const floatingElements = document.getElementById("floating-elements");
        

        // Funci√≥n para generar emojis flotantes gigantes de m√∫sica
        function createBigEmojiBurst() {
    const emojiContainer = document.getElementById('floating-elements');
    const numEmojis = 5; // N√∫mero de emojis flotantes gigantes a generar por intervalo
    const emojis = ["üé∂", "üéµ", "üéß", "üéº", "üé§"]; // Emojis de m√∫sica

    for (let i = 0; i < numEmojis; i++) {
        const emojiElement = document.createElement("div");
        emojiElement.classList.add("emoji-big");
        emojiElement.textContent = emojis[Math.floor(Math.random() * emojis.length)];

        // Posici√≥n aleatoria
        const randomX = Math.random() * window.innerWidth;
        const randomY = Math.random() * window.innerHeight;

        emojiElement.style.left = `${randomX}px`;
        emojiElement.style.top = `${randomY}px`;

        // Agregar al contenedor
        emojiContainer.appendChild(emojiElement);

        // Eliminar el emoji despu√©s de un tiempo
        setTimeout(() => {
            emojiElement.remove();
        }, 5000); // Duraci√≥n de la animaci√≥n
    }
}

// Llamar a la funci√≥n al cargar la p√°gina o cada vez que desees generar nuevos emojis flotantes
setInterval(createBigEmojiBurst, 3000); 


        // Actualiza la informaci√≥n del reproductor y prepara la canci√≥n
function updatePlayer(index) {
    const song = songs[index];
    songImage.src = song.imagen;
    songTitle.textContent = song.tituloCancion;
    audio.src = song.audioCancion;

    // Si ya estaba reproduciendo, reanudar autom√°ticamente
    if (isPlaying) {
        audio.play().catch((error) => {
            console.error("Error reproduciendo el audio:", error);
        });
    }
}
        
        // Modificar el reproductor para incluir emojis flotantes
playPauseButton.addEventListener("click", (e) => {
    if (isPlaying) {
        audio.pause();
        isPlaying = false;
        playPauseButton.textContent = "‚ñ∂Ô∏è";
    } else {
        audio.play();
        isPlaying = true;
        playPauseButton.textContent = "‚è∏Ô∏è";

        // Generar emojis flotantes en el bot√≥n de play/pause
        const rect = playPauseButton.getBoundingClientRect();
        createEmojiBurst(rect.left + rect.width / 2, rect.top, "‚ú®"); // Cambiar emoji si deseas
    }
});
        
        // Cambiar de canci√≥n
        document.getElementById("prev").addEventListener("click", () => {
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            updatePlayer(currentSongIndex);
            audio.play();
            isPlaying = true;
            playPauseButton.textContent = "‚è∏Ô∏è";
        });
        
        document.getElementById("next").addEventListener("click", () => {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            updatePlayer(currentSongIndex);
            audio.play();
            isPlaying = true;
            playPauseButton.textContent = "‚è∏Ô∏è";
        });

        // Funci√≥n para generar emojis flotantes
function createEmojiBurst(x, y, emoji) {
    const emojiContainer = document.body; // Contenedor para los emojis
    const numEmojis = 20; // N√∫mero de emojis en la r√°faga

    for (let i = 0; i < numEmojis; i++) {
        const emojiElement = document.createElement("div");
        emojiElement.classList.add("emoji");
        emojiElement.textContent = emoji;

        // Posici√≥n inicial
        emojiElement.style.left = `${x}px`;
        emojiElement.style.top = `${y}px`;

        // Posici√≥n aleatoria alrededor del clic
        const randomX = Math.random() * 100 - 50; // Entre -50 y 50 px
        const randomY = Math.random() * 100 - 50;

        emojiElement.style.transform = `translate(${randomX}px, ${randomY}px)`;

        // Agregar al DOM
        emojiContainer.appendChild(emojiElement);

        // Eliminar el emoji despu√©s de la animaci√≥n
        setTimeout(() => {
            emojiElement.remove();
        }, 2000); // Tiempo de duraci√≥n de la animaci√≥n
    }
}
        
        // Generar elementos flotantes
// Modificar evento de clic en canciones flotantes
function createFloatingItems() {
    songs.forEach((song, index) => {
        const item = document.createElement("div");
        item.classList.add("floating-item");
        item.style.left = `${Math.random() * 90}%`;
        item.style.animationDuration = `${5 + Math.random() * 5}s`;

        const img = document.createElement("img");
        img.src = song.imagen;
        img.alt = song.tituloCancion;

        // Evento al hacer clic en una canci√≥n flotante
        img.addEventListener("click", (e) => {
            currentSongIndex = index; // Cambia el √≠ndice actual
            updatePlayer(index);     // Actualiza la informaci√≥n del reproductor
            audio.play().catch((error) => {
                console.error("Error reproduciendo el audio:", error);
            });
            isPlaying = true;
            playPauseButton.textContent = "‚è∏Ô∏è"; // Actualiza el bot√≥n a pausa

            // Generar emojis flotantes en la posici√≥n del clic
            createEmojiBurst(e.clientX, e.clientY, "üéµ"); // Cambiar emoji si deseas
        });

        const span = document.createElement("span");
        span.textContent = song.tituloCancion;

        item.appendChild(img);
        item.appendChild(span);
        floatingElements.appendChild(item);
    });
}

// Inicializar
updatePlayer(currentSongIndex);
createFloatingItems();
        

    </script>
</body>
</html>
